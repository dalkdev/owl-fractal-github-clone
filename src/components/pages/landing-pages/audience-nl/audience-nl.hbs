<div class="nw-py-6">
  <section class="nw-relative nw-mt-6 md:nw-px-6">
    <img
      class="nw-object-cover md:nw-rounded-md nw-w-full nw-h-72"
      src="/images/newsletter/nw-foodie.jpg"
      style="filter: grayscale(20%);"
    />
    <div class=" nw-w-full nw-px-4 nw-mt-8 md_nw-mt-0 nw-absolute nw-top-1/4 md:nw-top-1/3 nw-left-1/2 nw-transform -nw-translate-x-1/2 -nw-translate-y-1/2 nw-text-white nw-text-center">
      <h2 class="nw-text-lg nw-font-bold nw-text-gray-100">NEWSLETTER</h2>
      <h2 class="nw-text-xl sm:nw-text-3xl nw-font-bold"> Wöchentliche Gastro- und  <br> Event-Highlights</h2>
    </div>
  </section>

  <section id="form-section" class="nw-relative nw-max-w-sm nw-mx-auto nw-px-6 md:nw-px-0 ">
    <div class="nw-relative nw-flex nw-flex-col nw-min-w-0 nw-break-words nw-bg-white nw-w-full nw-mb-8 nw-shadow-xl nw-rounded-lg nw--mt-16 md:nw--mt-8">
      <div>
        <div class="nw-flex nw-flex-col nw-justify-center nw-items-center nw-p-4">
          <form id="newsletter-form">
            <div class="nw-mb-4">
              <p class="nw-uppercase nw-text-md nw-font-bold nw-text-center nw-pb-8">Essen & Erleben</p>
              <p class="nw-text-sm nw-font-medium ">Keine Highlights Ihrer Region mehr verpassen! Entdecken Sie wöchentlich die neusten Updates zu Gastro, Shopping und Veranstaltungen – alles kompakt in einem Newsletter.</p>
            </div>
            <div class="nw-mb-3 nw-w-full">
              <label class="email-label nw-font-medium nw-text-xs nw-uppercase nw-label" for="email">E-Mail-Adresse</label>
              <input
                class="nw-w-full nw-px-1 nw-py-2 nw-mx-auto nw-inline-block nw-border nw-rounded nw-text-base nw-box-border
        nw-cursor-pointer nw-formfield"
                type="email" placeholder="" name="email" id="email"
                value="">
              <p
                id="emaill"
                class="nw-text-red-0 nw-text-xs nw-font-medium nw-hidden">
                Bitte E-Mail eingeben
              </p>
            </div>
            <div class="nw-mb-6">
              <label class="region-label nw-font-medium nw-text-xs nw-uppercase nw-label" for="my_region">MEINE REGION*</label>
              <select
                class="nw-w-full nw-px-1 nw-py-2 nw-mx-auto nw-text-base nw-inline-block nw-border nw-rounded nw-box-border nw-cursor-pointer nw-formfield"
                id="my_region" name="nl_id">
                <option value="" disabled selected hidden>Bitte wählen</option>
                <option value="14">Bielefeld</option>
                <option value="15">Kreis Gütersloh</option>
                <option value="16">Kreis Herford</option>
                <option value="17">Kreis Höxter</option>
                <option value="18">Kreis Minden-Lübbecke</option>
                <option value="19">Kreis Paderborn</option>
              </select>
              <p
                id="regionl"
                class="nw-text-red-0 nw-text-xs nw-font-medium nw-hidden">
                Bitte Region eingeben
              </p>
            </div>


            <p class="nw-text-xs nw-mb-8">Mit meiner Anmeldung zum Newsletter stimme ich der  <a href="https://www.nw.de/service/formales/23036205_Werbevereinbarung.html" class="nw-underline nw-text-red-0">Werbevereinbarung</a> zu. Weitere Informationen finden Sie in der
                <a href="https://www.nw.de/service/formales/20262936_Datenschutzerklaerung.html" class="nw-underline nw-text-red-0">Datenschutzerklärung</a>.
            </p>

            <div>
              <button
                type="submit"
                class=" nw-w-full nw-mx-auto md:nw-w-1/2 nw-bg-red-0 nw-border nw-border-transparent  nw-rounded-full nw-py-1 nw-px-6 nw-flex nw-items-center nw-justify-center
                      nw-text-base nw-font-medium nw-text-white hover:nw-bg-red-100 ">
                Jetzt anmelden
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  <!-- -->
  <div id="success-message" class="nw-my-6 nw-bg-slate-300 nw-p-6 nw-rounded-md nw-text-white nw-max-w-sm nw-mx-auto" style="display: none">
    <div class="nw-flex nw-items-center">
      <p class="nw-text-lg nw-font-bold">Ihre Anmeldung war erfolgreich </p>
      <svg class="nw-flex-shrink-0 nw-w-12 nw-h-12 nw-text-green-100 svg-green" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
      </svg>
    </div>
  </div>
  <!-- -->
  <div id="success-message-mail" class="nw-my-6 nw-bg-slate-300 nw-p-6 nw-rounded-md nw-text-white nw-max-w-sm nw-mx-auto" style="display: none">
    <div class="nw-flex nw-items-center">
      <p class="nw-text-lg nw-font-bold">Ihre Anmeldung war erfolgreich </p>
      <svg class="nw-flex-shrink-0 nw-w-12 nw-h-12 nw-text-green-100 svg-green" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
      </svg>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    let array_input = document.getElementsByClassName('nw-formfield');

    function Validator() {
      var valid = true;
      Array.prototype.forEach.call(array_input, x => {
        let label = x.previousElementSibling;
        let errorMessage = x.nextElementSibling;

        if (x.value.trim() === '') {
          valid = false;
          x.classList.add('nw-border-red-0');
          errorMessage.style.display = 'block';
          label.classList.add('nw-text-red-0');
        } else {
          x.classList.remove('nw-border-red-0');
          errorMessage.style.display = 'none';
          label.classList.remove('nw-text-red-0');
        }
      });
      return valid;
    }

    Array.prototype.forEach.call(array_input, x => {
      x.addEventListener('input', function() {
        let label = x.previousElementSibling;
        let errorMessage = x.nextElementSibling;

        if (x.value.trim() !== '') {
          x.classList.remove('nw-border-red-0');
          errorMessage.style.display = 'none';
          label.classList.remove('nw-text-red-0');
        }
      });
    });

    document.querySelector('form#newsletter-form').addEventListener('submit', function(event) {
      event.preventDefault();
      var valid = Validator();
      if (valid) {
        document.getElementById('newsletter-form').style.display = 'none';
        document.getElementById('form-section').style.display = 'none';
        document.getElementById('success-message').style.display = 'block';
      }
    });
  });
</script>



